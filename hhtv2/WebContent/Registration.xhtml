<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
    
<head>
	<link rel="stylesheet" type="text/css" href="main.css"/>

</head>

<h:body styleClass="body">
<ui:composition template="/template/commonLayout.xhtml">
<ui:define name="content">
	<center><h:outputText value="New User Registration"/>
	<h:form>
		<h:messages errorClass="errorMessage" infoClass="infoMessage" warnClass="warnMessage"></h:messages>
		<h:panelGrid columns="2">
			<h:outputText value="Username: "></h:outputText>
			<h:inputText id="username" value="#{regBean.username}" required="true"
				requiredMessage="Please enter username"></h:inputText>
				
			<h:outputText value="Password: "></h:outputText>
			<h:inputSecret id="password" binding="#{password}" value="#{regBean.password}" required="true"
				requiredMessage="Please enter password"></h:inputSecret>
			
			<h:outputText value="Confirm Password"></h:outputText>	
			<h:inputSecret id="confirmpassword" value="#{regBean.confirmpassword}" required="true"
				requiredMessage="Please confirm password">
				<f:validator validatorId="passwordValidator"></f:validator>
				<f:attribute name="password" value="#{password}"></f:attribute>	
			</h:inputSecret>
				
			<h:outputText value="First name: "></h:outputText>
			<h:inputText id="firstname" value="#{regBean.firstname}" required="true"
				requiredMessage="Please enter first name"></h:inputText>
				
			<h:outputText value="Last name: "></h:outputText>
			<h:inputText id="lastname" value="#{regBean.lastname}" required="true"
				requiredMessage="Please enter last name"></h:inputText>
				
			<h:outputText value="Date of birth: "></h:outputText>
			<h:inputText id="dob" value="#{regBean.dob}" required="true"
				requiredMessage="Please enter date of birth"
				converterMessage="Invalid date of birth. Please use eg. 07/23/2000">
				<f:convertDateTime pattern="MM/dd/yyyy" />
			</h:inputText>
				
			<h:outputText value="Email: "></h:outputText>
			<h:inputText id="email" binding="#{email}" value="#{regBean.email}" required="true"
				requiredMessage="Please enter email"></h:inputText>
				
			<h:outputText value="Confirm email: "></h:outputText>
			<h:inputText id="confirmemail" value="#{regBean.confirmemail}" required="true"
				requiredMessage="Please confirm email" validator="#{regBean.emailValidator}">
				<f:attribute name="email" value="#{email}"></f:attribute>
			</h:inputText>
				
			<h:outputText value="User Roles: "></h:outputText>	
			<h:selectManyListbox id="role" value="#{regBean.selectedRoles}"
				required="true" requiredMessage="Select at least one user role">
				<f:selectItem itemLabel="Administrator" itemValue="Administrator"></f:selectItem>
				<f:selectItem itemLabel="Guest" itemValue="Guest"></f:selectItem>
				<f:selectItem itemLabel="Manager" itemValue="Manager"></f:selectItem>
			</h:selectManyListbox>
			<h:commandButton type="submit" value="Submit" action="#{regBean.addUser}"></h:commandButton>
			<h:commandButton type="reset" value="Reset"></h:commandButton>		
		</h:panelGrid>
	</h:form>
	</center>
	</ui:define>
</ui:composition>
</h:body>    
</html>
